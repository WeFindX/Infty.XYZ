{% extends "base.html" %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load django_markdown %}

{% block title %}{% trans "Plan create" %}{% endblock title %}

{% block content %}

<h1>{% trans "Plan create" %}</h1>
<br/>
<br/>
{% if idea_object %}
<table class="table">
    <tr>
        <td>{% trans "Idea" %}</td>
        <td>

            <a href="{% url "idea-detail" idea_object.pk %}">{{idea_object}}</a>

        </td>
    </tr>
</table>
{% endif %}
<div>
    
</div>
<br/>

{% crispy form %}
{% markdown_media %}

{% endblock content %}
{% block extra_js %}
<script type="text/javascript">
    var s2_endpoints_param_gen_for_goal = function(term, page) {
        var proxFunc = $.proxy(django_select2.get_url_params, this);
        // no need for a custom func here.
        var results = proxFunc(term, page, 'django_select2.process_results');
        results.idea = $('#id_idea').val();
        return results;
    };

    var s2_endpoints_param_gen_for_idea = function(term, page) {
        var proxFunc = $.proxy(django_select2.get_url_params, this);
        // no need for a custom func here.
        var results = proxFunc(term, page, 'django_select2.process_results');
        results.goal = $('#id_goal').val();
        return results;
    };
</script>
{% endblock extra_js %}

