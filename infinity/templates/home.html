{% extends "base.html" %}

{% block title %}Index{% endblock %}

{% block page_title %}Index{% endblock page_title %}

{% block content %}
{% if user.is_anonymous %}
{% else %}
<div align="right">{% if user.invitationoption.invitations_left %}<b>[You have got <a href="{% url "invite:send"  %}">{{user.invitationoption.invitations_left}} invitations</a> left.]</b>{% else %}<i>Mention [admin] for invitations.</i>{% endif %}</div>
<div align="right">Write bugs and suggestions <a href="/step/2/detail/">here</a>.</div>
<div align="right">Current time value: 1 ħ = <a href="https://research.stlouisfed.org/fred2/series/CES0500000003">{{ hour_value.value|floatformat:2 }}</a> $</a>.</div>
<div align="right">Please note that: 1 ħ + 1 h = 2 ḥ.</div>
<br/>
{% endif %}
<p>The recent {{ number_of_items }} items. Items in <b>bold</b> had been created in last <b>{{last_days}}</b> days.</p>

<div class="panel panel-default">
    <div class="panel-heading"><a href="{% url "goal-list" %}">Goals</a>&nbsp; <a href="{% url "goal-create" %}"><i class="fa fa-plus-circle"></a></i></a>&nbsp; - <b>define a problem</b>
    
    <div style="display:inline-block; float: right;"><form method="post" style="display:inline;">{% csrf_token %}<select name="goals" onchange="this.form.submit()">{% for value in dropdown_list %}<option value="{{ value }}" {% if items.goals == value %}selected{% endif %}>{{ value }}</option>{% endfor %}</select></form> items commented in last {{ goal_days }} days.</div></div>
    <div class="panel-body">
    {% for goal in goal_list %}
    <b>$ {{ goal.0.get_usd|floatformat:2 }} </b> {% if goal.1 %}<b>{% endif %}<a href="{% url "goal-detail" goal.0.pk %}#{{goal.0.commented_at|date:"U"}}">{{ goal.0.name }}</a>{% if goal.1 %}</b>{% endif %} (<a href="{% url "goal-detail" goal.0.pk %}#{{goal.0.commented_at|date:"U"}}">{{goal.0.comment_count}} comments</a>)<br/>&nbsp; &nbsp; &nbsp; &nbsp; [{{ goal.0.total_donated|floatformat:2 }} ħ donated, {{ goal.0.total_claimed|floatformat:1 }} h claimed, {{ goal.0.total_assumed|floatformat:1}} h assumed, {{ goal.0.total_matched|floatformat:2 }} <a href="">ḥ</a> matched]
    <br>
    {% endfor %}
    <a href="{% url "goal-list" %}">see more</a>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading"><a href="{% url "idea-list" %}">Ideas</a>&nbsp;<a href="{% url "idea-create" %}"><i class="fa fa-plus-circle"></a></i></a>&nbsp; - <b>suggest a solution</b><div style="display:inline-block; float: right;"><form method="post" style="display:inline;">{% csrf_token %}<select name="ideas" onchange="this.form.submit()">{% for value in dropdown_list %}<option value="{{ value }}" {% if items.ideas == value %}selected{% endif %}>{{ value }}</option>{% endfor %}</select></form> items commented in last {{ idea_days }} days.</div></div>
    <div class="panel-body">
    {% for idea in idea_list %}
    <b>$ {{ idea.0.get_usd|floatformat:2 }} </b> {% if idea.1 %}<b>{% endif %}<a href="{% url "idea-detail" idea.0.pk %}#{{idea.0.commented_at|date:"U"}}">{{ idea.0.name }}</a>{% if idea.1 %}</b>{% endif %} (<a href="{% url "idea-detail" idea.0.pk %}#{{idea.0.commented_at|date:"U"}}">{{idea.0.comment_count}} comments</a>)<br/>&nbsp; &nbsp; &nbsp; &nbsp; [{{ idea.0.total_donated|floatformat:2 }} ħ donated, {{ idea.0.total_claimed|floatformat:1 }} h claimed, {{ idea.0.total_assumed|floatformat:1 }} h assumed, {{ idea.0.total_matched|floatformat:2 }} <a href="">ḥ</a> matched]
    <br>
    {% endfor %}
    <a href="{% url "idea-list" %}">see more</a>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <a href="{% url "plan-list" %}">Plans</a>&nbsp;<a href="{% url "plan-create" %}"><i class="fa fa-plus-circle"></a></i></a>&nbsp; - <b>start a project</b> <div style="display:inline-block; float: right;"><form method="post" style="display:inline;">{% csrf_token %}<select name="plans" onchange="this.form.submit()">{% for value in dropdown_list %}<option value="{{ value }}" {% if items.plans == value %}selected{% endif %}>{{ value }}</option>{% endfor %}</select></form> items commented in last {{ plan_days }} days.</div>
    </div>
    <div class="panel-body">
    {% for plan in plan_list %}
    <b>$ {{ plan.0.get_usd|floatformat:2 }} </b> {% if plan.1 %}<b>{% endif %}<a href="{% url "plan-detail" plan.0.pk %}#{{plan.0.commented_at|date:"U"}}">{{ plan.0.name }}</a>{% if plan.1 %}</b>{% endif %} (<a href="{% url "plan-detail" plan.0.pk %}#{{plan.0.commented_at|date:"U"}}">{{plan.0.comment_count}} comments</a>)<br/>&nbsp; &nbsp; &nbsp; &nbsp; [{{ plan.0.total_donated|floatformat:2}} ħ donated, {{ plan.0.total_claimed|floatformat:1 }} h claimed, {{ plan.0.total_assumed|floatformat:1 }} h assumed, {{ plan.0.total_matched|floatformat:2 }} <a href="">ḥ</a> matched]
    <br>
    {% endfor %}
    <a href="{% url "plan-list" %}">see more</a>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <a href="{% url "step-list" %}">Steps</a>&nbsp;<i class="fa fa-minus-square-o"></i>&nbsp; - break it down<div style="display:inline-block; float: right;"> <form method="post" style="display:inline;">{% csrf_token %}<select name="steps" onchange="this.form.submit()">{% for value in dropdown_list %}<option value="{{ value }}" {% if items.steps == value %}selected{% endif %}>{{ value }}</option>{% endfor %}</select></form> items commented in last {{ step_days }} days.</div>
    </div>

    <div class="panel-body">
    {% for step in step_list %}
    <b>$ {{ step.0.get_usd|floatformat:2 }} </b> {% if step.1 %}<b>{% endif %}<a href="{% url "step-detail" step.0.pk %}#{{step.0.commented_at|date:"U"}}">{{ step.0.name }}</a>{% if step.1 %}</b>{% endif %} (<a href="{% url "step-detail" step.0.pk %}#{{step.0.commented_at|date:"U"}}">{{step.0.comment_count}} comments</a>)<br/>&nbsp; &nbsp; &nbsp; &nbsp; [{{ step.0.total_donated|floatformat:2 }} ħ donated, {{ step.0.total_claimed|floatformat:1 }} h claimed, {{ step.0.total_assumed|floatformat:1 }} h assumed, {{ step.0.total_matched|floatformat:2 }} <a href="">ḥ</a> matched]
    <br>
    {% endfor %}
    <a href="{% url "step-list" %}">see more</a>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <a href="{% url "task-list" %}">Tasks</a>&nbsp;<i class="fa fa-minus-square-o"></i>&nbsp; - execute it<div style="display:inline-block; float: right;"><form method="post" style="display:inline;">{% csrf_token %}<select name="tasks" onchange="this.form.submit()">{% for value in dropdown_list %}<option value="{{ value }}" {% if items.tasks == value %}selected{% endif %}>{{ value }}</option>{% endfor %}</select></form> items commented in last {{ task_days }} days.</div>
    </div>

    <div class="panel-body">
    {% for task in task_list %}
    <b>$ {{ task.0.get_usd|floatformat:2 }} </b> {% if task.1 %}<b>{% endif %}<a href="{% url "task-detail" task.0.pk %}#{{task.0.commented_at|date:"U"}}">{{ task.0.name }}</a>{% if task.1 %}</b>{% endif %} (<a href="{% url "task-detail" task.0.pk %}#{{task.0.commented_at|date:"U"}}">{{task.0.comment_count}} comments</a>)<br/>&nbsp; &nbsp; &nbsp; &nbsp; [{{ task.0.total_donated|floatformat:2 }} ħ donated, {{ task.0.total_claimed|floatformat:2 }} h claimed, {{ task.0.total_assumed|floatformat:2 }} h assumed, {{ task.0.total_matched|floatformat:2 }} <a href="">ḥ</a> matched]
    <br>
    {% endfor %}
    <a href="{% url "task-list" %}">see more</a>
    </div>
</div>
{% endblock content %}
